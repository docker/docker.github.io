---
title: "Downgrading your Docker EE license"
id: 2288
draftstate: inactive
deleted: false
source: https://success.docker.com/@api/deki/pages/2288/contents
tags:
- tag: "article:howto"
- tag: "product:datacenter"
- tag: "stage:reviewed"
- tag: "testedon:docker-17.06.1-ee"
- tag: "testedon:dtr-2.3.0"
- tag: "testedon:ucp-2.2.0"
---
{% raw %}
<p>
 As of Docker EE 17.06, several features are enabled by having an advanced-tier license in your system, such as a trial license. These features are the following:
</p>
<p>
 On UCP:
</p>
<ul>
 <li>
  Moving worker nodes to collections other than
  <code>
   /Shared
  </code>
 </li>
 <li>
  Setting Label Constraints on collections
 </li>
</ul>
<p>
 On DTR:
</p>
<ul>
 <li>
  Using image promotion policies
 </li>
 <li>
  Performing new image scans
 </li>
</ul>
<p>
 However, you will not be able to downgrade your license from advanced to standard if you are actively using any of the advanced UCP features. In order to downgrade your license, you need to manually reconfigure UCP so that no advanced tier features are in use. To do that, use the instructions in the following sections before applying your new license.
</p>
<div class="mt-section" id="section_1" mt-section-origin="KBase/Downgrading_your_Docker_EE_license">
 <span id="Move_all_nodes_to_their_standard_collections">
 </span>
 <h1 id="0-0">
  Move all nodes to their standard collections
 </h1>
 <p>
  In a standard tier Docker EE environment, worker nodes must be placed in the
  <code>
   /Shared
  </code>
  collection, and all manager nodes as well as worker nodes running DTR must be placed in the
  <code>
   /System
  </code>
  collection. If one or more of your nodes are in a different collection, you will not be able to apply your new license.
 </p>
 <p>
  Moving nodes through the UI:
 </p>
 <ul>
  <li>
   <p>
    On the
    <strong>
     Nodes
    </strong>
    page, select one of your nodes. You can verify that the node is not in
    <code>
     /Shared
    </code>
    or
    <code>
     /System
    </code>
    by looking at the
    <strong>
     Collection
    </strong>
    tab.
   </p>
  </li>
  <li>
   Select
   <strong>
    Configure
   </strong>
   and then
   <strong>
    Collection
   </strong>
   . Select the appropriate collection for the node:
   <ul>
    <li>
     If it's a manager node or a DTR replica, place the node under
     <code>
      /System
     </code>
     .
    </li>
    <li>
     Otherwise, place it under
     <code>
      /Shared
     </code>
     .
    </li>
   </ul>
  </li>
 </ul>
 <p>
  Moving nodes through the CLI:
 </p>
 <ul>
  <li>
   Inspect a node via
   <code>
    docker node inspect &lt;hostname&gt;
   </code>
   , followed by the node's hostname.
  </li>
  <li>
   Look at the value of the
   <code>
    com.docker.ucp.access.label
   </code>
   label, which indicates the collection that this node is placed in. Ignore the labels starting with
   <code>
    com.docker.ucp.collection
   </code>
   , as they are managed by UCP automatically.
  </li>
  <li>
   If the node is not in the desired collection, move it to a different collection by changing the label value using
   <code>
    docker node update --label-add com.docker.ucp.access.label=/Shared &lt;hostname&gt;
   </code>
  </li>
 </ul>
</div>
<div class="mt-section" id="section_2" mt-section-origin="KBase/Downgrading_your_Docker_EE_license">
 <span id="Remove_Label_Constraints_from_all_collections">
 </span>
 <h1 id="0-1">
  Remove Label Constraints from all collections
 </h1>
 <p>
  In a standard tier Docker EE environment, collections cannot have any label constraints specified. To apply a standard tier license, you must manually remove all label constraints from existing collections.
 </p>
 <p>
  Removing label constraints through the UI:
 </p>
 <ul>
  <li>
   On the
   <strong>
    Collections
   </strong>
   page, select a collection and verify whether it has any label constraints by looking at the
   <strong>
    Label Constraints
   </strong>
   tab.
  </li>
  <li>
   Select
   <strong>
    Configure
   </strong>
   and then
   <strong>
    Label Constraints
   </strong>
   .
  </li>
  <li>
   For all label constraints of that collection, press the
   <strong>
    X
   </strong>
   button to remove them and then select
   <strong>
    Update
   </strong>
   to confirm your selection.
  </li>
 </ul>
</div>
{% endraw %}
