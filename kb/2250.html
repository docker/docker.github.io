---
title: "Revert DTR certificates to self-signed certificates generated by DTR"
id: 2250
draftstate: inactive
deleted: false
source: https://success.docker.com/@api/deki/pages/2250/contents
tags:
- tag: "article:howto"
- tag: "can not log in to ui"
- tag: "component:dtr"
- tag: "dtr default state"
- tag: "generate cert"
- tag: "product:datacenter"
- tag: "self-signed cert"
- tag: "stage:reviewed"
- tag: "stop using 3rd party cert"
---
{% raw %}
<p>
 For an existing DTR instance, it is possible to
 <strong>
  reconfigure
 </strong>
 DTR to use self-signed certificated generated by DTR.
</p>
<p>
 This can be helpful in following example instances:
</p>
<ul>
 <li>
  If you used 3rd party certificates and want to revert back to the built-in DTR self-signed certificates.
 </li>
 <li>
  Can not access DTR UI due to expired certificates.
 </li>
</ul>
<div class="mt-section" id="section_1" mt-section-origin="KBase/Revert_DTR_certificates_to_self-signed_certificates_generated_by_DTR">
 <span id="Resolution">
 </span>
 <h2 id="1-0">
  Resolution
 </h2>
 <p>
  To revert to self-signed certificates for DTR:
 </p>
 <ol>
  <li>
   Run the DTR reconfigure command and change to a different
   <code>
    dtr-external-url
   </code>
   (be sure to change to your IP address):
   <pre>
docker run -it --rm docker/dtr reconfigure --dtr-external-url <span class="replaceabletext">10.0.0.5</span> --ucp-insecure-tls --ucp-url https://<span class="replaceabletext">x.x.x.x:443</span></pre>
  </li>
  <li>
   Look for following output to show that DTR generated new certificates:
   <pre>
INFO[0008] TLS certificate does not match domain name    domainName=<span class="replaceabletext">10.0.0.5</span>
INFO[0024] Generated TLS certificate.                    domain=<span class="replaceabletext">10.0.0.5</span>
</pre>
  </li>
  <li>
   Wait a minute or 2 for the containers to be stable.
  </li>
  <li>
   Proceed to log into the UI using the newly configured DTR external URL.
  </li>
 </ol>
</div>
{% endraw %}
