---
title: "What does the Reuse existing container volumes? option mean during stack redeployment in Docker Cloud?"
id: 1057
draftstate: inactive
deleted: false
source: https://success.docker.com/@api/deki/pages/1057/contents
tags:
- tag: "article:topic"
---
{% raw %}
<div class="mt-section" id="section_1" mt-section-origin='Cloud/Solve/What_does_the_"Reuse_existing_container_volumes?"_option_mean_during_stack_redeployment_in_Docker_Cloud?'>
 <span id="Question">
 </span>
 <h2 id="1-0">
  Question
 </h2>
 <p>
  What does the "Reuse existing container volumes?" option mean during stack redeployment in Docker Cloud?
 </p>
</div>
<div class="mt-section" id="section_2" mt-section-origin='Cloud/Solve/What_does_the_"Reuse_existing_container_volumes?"_option_mean_during_stack_redeployment_in_Docker_Cloud?'>
 <span id="Answer">
 </span>
 <h2 id="1-1">
  Answer
 </h2>
 <p>
  There are two types of volumes that you can mount on a container which are:
 </p>
 <ul>
  <li>
   Data volumes
  </li>
  <li>
   Data volume containers
  </li>
 </ul>
 <p>
  Data volumes are volumes which are mounted from the host itself whereas data volume containers mount the volume(s) from a volume container (e.g. busybox container). Take note that you would need to use the
  <span style="font-family:courier new,courier,monospace;">
   <strong>
    volume_from
   </strong>
  </span>
  key instead of the usual
  <span style="font-family:courier new,courier,monospace;">
   <strong>
    volume
   </strong>
  </span>
  key in order to use data volume containers' volume(s).
 </p>
 <p>
  For more information on this, please refer to the documentation provided in the link below:
  <br/>
  <a class="link-https" href="https://docs.docker.com/docker-cloud/feature-reference/stack-yaml-reference/#volumes" rel="freeklink" title="https://docs.docker.com/docker-cloud/feature-reference/stack-yaml-reference/#volumes">
   https://docs.docker.com/docker-cloud...rence/#volumes
  </a>
 </p>
 <p>
  Take the below Stackfile as an example:
 </p>
 <pre>
test-busybox:
  image: 'busybox:latest'
  command: /bin/echo
  restart: always
  roles:
    - global
  volumes:
    - /var/lib/mysql

test-mysql:
  image: 'tutum/mysql:latest'
  environment:
    - MYSQL_PASS=admin
    - MYSQL_USER=admin
  expose:
    - '3306'
  restart: always
  roles:
    - global
  volumes_from:
    - test-busybox
</pre>
 <p>
  The
  <span style="font-family:courier new,courier,monospace;">
   test-mysql
  </span>
  MySQL container will always use the
  <span style="font-family:courier new,courier,monospace;">
   /var/lib/mysql
  </span>
  volume mounted on the
  <span style="font-family:courier new,courier,monospace;">
   test-busybox
  </span>
  Busybox container. If the "
  <strong>
   Reuse existing container volumes?
  </strong>
  " option is set to ‘
  <strong>
   No
  </strong>
  ’ during stack redeployment, the volume on the
  <span style="font-family:courier new,courier,monospace;">
   test-busybox
  </span>
  container will be reset and all data on
  <span style="font-family:courier new,courier,monospace;">
   /var/lib/mysql
  </span>
  will be gone.
 </p>
 <p>
  You can also replicate this if you use the following Stackfile:
 </p>
 <pre>
test-mysql:
  image: 'tutum/mysql:latest'
  environment:
    - MYSQL_PASS=admin
    - MYSQL_USER=admin
  expose:
    - '3306'
  restart: always
  roles:
    - global
  volumes:
    - /var/lib/mysql
</pre>
</div>
{% endraw %}
